# crowd-admin

| åˆ†æ”¯åç§°                                                           | Spring Boot ç‰ˆæœ¬ | JDK ç‰ˆæœ¬ |
| ------------------------------------------------------------------ | ---------------- | -------- |
| [main](https://github.com/wayn111/crowd-admin)                     | 2.7.16           | 17       |
| [spring4.0](https://github.com/wayn111/crowd-admin/tree/spring4.0) | spring4.0        | 1.8      |

# Language

- [ç®€ä½“ä¸­æ–‡](README.md)|[English](README_en.md)

# é¡¹ç›®ä»‹ç»

åŸºäº jdk17ã€Spring Boot2.7 é‡æ„è€Œæ¥ï¼Œcrowd-admin æ˜¯ä¸€ä¸ªåå°æƒé™ç®¡ç†ç³»ç»Ÿè„šæ‰‹æ¶ï¼Œé›†æˆäº† rbac æƒé™ç®¡ç†ã€æ¶ˆæ¯æ¨é€ã€é‚®ä»¶å‘é€ã€ä»»åŠ¡è°ƒåº¦ã€ä»£ç ç”Ÿæˆã€elfinder æ–‡ä»¶ç®¡ç†ç­‰å¸¸ç”¨åŠŸèƒ½ï¼Œç³»ç»Ÿå†…å„ä¸ªä¸šåŠ¡æŒ‰ç…§æ¨¡å—åˆ’åˆ†ï¼Œå‰å°ä½¿ç”¨ H+æ¨¡æ¿ã€‚æ˜¯ä¸€ä¸ª java æ–°äººæ˜“äºä¸Šæ‰‹ï¼Œå­¦ä¹ ä¹‹åèƒ½å¤Ÿå¿«é€Ÿèå…¥ä¼ä¸šå¼€å‘çš„æŒ‡å¯¼é¡¹ç›®

# ä¸»è¦ç‰¹æ€§

- æ”¯æŒ rbac ç”¨æˆ·è§’è‰²èœå•ç®¡ç†æ¨¡å‹ã€‚
- é›†æˆ Shiro ä½œä¸ºå®‰å…¨è®¿é—®æ§åˆ¶æ¡†æ¶ï¼Œç»†ç²’åº¦æ”¯æŒåˆ°èœå•ã€æ“ä½œæŒ‰é’®çº§åˆ«ã€‚
- å‰åç«¯æ”¯æŒ STOMP åè®®å‘é€æ¶ˆæ¯ï¼Œæ”¯æŒç”¨æˆ·è®¤è¯ã€åå°å…¬å‘Šé€šçŸ¥ã€ç”¨æˆ·ä¸‹çº¿é€šçŸ¥ç­‰ã€‚

> STOMP åŸºäº WebSocket åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä¹‹é—´å®šä¹‰äº†ä¸€ç§æœºåˆ¶ï¼Œåå•†é€šè¿‡å­åè®®ï¼ˆæ›´é«˜çº§çš„æ¶ˆæ¯åè®®ï¼‰æ¥å®šä¹‰å¯ä»¥å‘é€ä½•ç§æ¶ˆæ¯ã€‚

- é¡¹ç›®æŒ‰åŠŸèƒ½æ¨¡å—åŒ–æ‹†åˆ†ï¼Œè‡ªå®šä¹‰å…¨å±€ç»Ÿä¸€å¼‚å¸¸è¾“å‡ºï¼Œä»£ç æ¸…æ™°åˆç†ã€‚
- é›†æˆ elfinder æ¨¡å—ï¼ŒåŒ…å«å®Œæ•´çš„æ–‡ä»¶ç®¡ç†æ“ä½œï¼ŒåŒ…å«æ–‡ä»¶ä¸Šä¼ ã€åˆ é™¤ã€å‹ç¼©ã€ç§»åŠ¨ã€é¢„è§ˆç­‰è¯¸å¤šæ“ä½œã€‚
- æ”¯æŒåå°æ¶ˆæ¯ã€å®šæ—¶ä»»åŠ¡ã€ä»£ç ç”Ÿæˆå¯è§†åŒ–ç­‰åŠŸèƒ½ã€‚
- æ”¯æŒç³»ç»ŸæœåŠ¡ç›‘æ§ã€åœ¨çº¿ç”¨æˆ·ç›‘æ§ã€æ•°æ®æºç›‘æ§ç­‰åŠŸèƒ½ã€‚
- æ”¯æŒ redis/ehcache åˆ‡æ¢ä½¿ç”¨ï¼Œå¯ä»¥é€‰æ‹©ä½¿ç”¨ redis ç¼“å­˜ï¼Œä¹Ÿå¯ä»¥é€‰æ‹© ehcacheã€‚
- åŒ…å«åå°ç™»å½•ã€æ“ä½œæ—¥å¿—è®°å½•ã€‚æ”¯æŒ ip2region è§£æç”¨æˆ· ip åœ°å€ã€‚
- æ”¯æŒå¤šæ•°æ®æºæ“ä½œã€‚
- å‰ç«¯ä½¿ç”¨ H+æ¨¡æ¿ï¼Œæ ·å¼ç¾è§‚ï¼Œæ”¯æŒ ajax ä¸‹è½½æ–‡ä»¶ï¼Œjs ä»£ç ç®€æ´ï¼Œæ¸…æ™°ï¼Œé¿å…è¿‡åº¦å°è£…ã€‚
- [åœ¨çº¿åœ°å€](http://121.4.124.33/crowd/)

> å¦‚æœæœ‰ä»»ä½•ä½¿ç”¨é—®é¢˜ï¼Œæ¬¢è¿æäº¤ Issue æˆ–åŠ å…³æ³¨æˆ‘å…¬ä¼—å·ç§ä¿¡æˆ‘å‘ŠçŸ¥ï¼Œæ–¹ä¾¿äº’ç›¸äº¤æµåé¦ˆï½ ğŸ’˜ã€‚æœ€åï¼Œå–œæ¬¢çš„è¯éº»çƒ¦ç»™æˆ‘ä¸ª star

å…³æ³¨å…¬ä¼—å·ï¼šwaynblogï¼Œæ¯å‘¨æ›´æ–°æœ€æ–°æŠ€æœ¯æ–‡ç« ã€‚å›å¤å…³é”®å­—ï¼š

- **å­¦ä¹ **ï¼šåŠ ç¾¤äº¤æµï¼Œç¾¤å†…é—®é¢˜éƒ½ä¼šä¸€ä¸€è§£ç­”ã€‚
- **æ¼”ç¤ºè´¦å·**ï¼šè·å¾—çº¿ä¸Šé¡¹ç›®ç®¡ç†åå°æ¼”ç¤ºè´¦å·ã€‚
- **å¼€æºé¡¹ç›®**ï¼šè·å–åšä¸»è‡ªå·±å†™çš„ä¸‰ä¸ªå¼€æºé¡¹ç›®ï¼ŒåŒ…å« PCã€H5 å•†åŸã€åå°æƒé™ç®¡ç†ç³»ç»Ÿç­‰ã€‚

<img src="images/wx-mp-code.png" width = "100" />

---

## å¤§çº²

- [crowd-admin](#crowd-admin)
   - [å†…ç½®æ¨¡å—](#å†…ç½®æ¨¡å—)
   - [æŠ€æœ¯é€‰å‹](#æŠ€æœ¯é€‰å‹)
   - [å¼€å‘éƒ¨ç½²](#å¼€å‘éƒ¨ç½²)
   - [å‚è€ƒèµ„æ–™](#å‚è€ƒèµ„æ–™)
   - [è·å–æºç ](#è·å–æºç )
   - [å®ä¾‹æˆªå›¾](#å®ä¾‹æˆªå›¾)
   - [ç‰¹åˆ«èµåŠ©](#ç‰¹åˆ«èµåŠ©)

# å†…ç½®æ¨¡å—

1. ç³»ç»Ÿç®¡ç†
   - ç”¨æˆ·ç®¡ç†ï¼šç³»ç»Ÿæ“ä½œè€…ï¼Œå¯ç»‘å®šå¤šè§’è‰²
   - è§’è‰²ç®¡ç†ï¼šèœå•æƒé™æºå¸¦è€…ï¼Œå¯é…ç½®åˆ°æŒ‰é’®çº§æƒé™
   - èœå•ç®¡ç†ï¼šé…ç½®ç³»ç»Ÿç›®å½•ï¼Œèœå•é“¾æ¥ï¼Œæ“ä½œæƒé™
   - éƒ¨é—¨ç®¡ç†ï¼šç”¨æˆ·æ‰€å±éƒ¨é—¨
   - æ—¥å¿—æ“ä½œï¼šè®°å½•ç”¨æˆ·æ“ä½œï¼ŒåŒ…å«è¯·æ±‚å‚æ•°
2. åŠå…¬é€šçŸ¥
   - æˆ‘çš„é€šçŸ¥ï¼šæ¥æ”¶å½“å‰ç”¨æˆ·å¾—é€šçŸ¥ä¿¡æ¯
   - é€šçŸ¥ç®¡ç†ï¼šç®¡ç†å‘˜å‘é€å¹¶ç®¡ç†é€šçŸ¥æ¶ˆæ¯
3. åŸºç¡€ç®¡ç†
   - æ•°æ®å­—å…¸ï¼šå¯¹ç³»ç»Ÿä¸­ç»å¸¸ä½¿ç”¨çš„ä¸€äº›è¾ƒä¸ºå›ºå®šçš„æ•°æ®è¿›è¡Œç»´æŠ¤
   - æ–‡ä»¶ç®¡ç†ï¼šé›†æˆ elfinderï¼Œä¾¿äºå¯¹ç³»ç»Ÿå†…æ–‡ä»¶è¿›è¡ŒæŸ¥çœ‹ä¿®æ”¹
4. ç³»ç»Ÿå·¥å…·
   - ä»£ç ç”Ÿæˆï¼šå¯åŠ¨æ€æ ¹æ®æ•°æ®åº“è¡¨ï¼Œç”Ÿæˆåå° java ä»£ç 
   - ä»»åŠ¡è°ƒåº¦ï¼šæ ¹æ®è°ƒåº¦ç­–ç•¥ä»¥åŠæ‰§è¡Œç›®æ ‡é…ç½®ä»»åŠ¡è°ƒåº¦
   - ä»»åŠ¡æ—¥å¿—ï¼šè®°å½•ä»»åŠ¡æ—¥å¿—ï¼Œæ–¹ä¾¿æ’é”™è¿½è¸ª
5. ç³»ç»Ÿç›‘æ§
   - åœ¨çº¿ç”¨æˆ·ï¼šå½“å‰ç³»ç»Ÿä¸­æ´»è·ƒç”¨æˆ·çŠ¶æ€ç›‘æ§ï¼Œå¯å¼ºåˆ¶ä¸‹çº¿ç”¨æˆ·
   - æ•°æ®ç›‘æ§ï¼šç›‘è§†å½“å‰ç³»ç»Ÿæ•°æ®åº“è¿æ¥æ± çŠ¶æ€ï¼Œå¯è¿›è¡Œåˆ†æ SQL æ‰¾å‡ºç³»ç»Ÿæ€§èƒ½ç“¶é¢ˆ
   - ç³»ç»ŸæœåŠ¡ï¼šç›‘è§†å½“å‰ç³»ç»Ÿ CPUã€å†…å­˜ã€ç£ç›˜ã€å †æ ˆç­‰ç›¸å…³ä¿¡æ¯

# æŠ€æœ¯é€‰å‹

1. åç«¯
   - æ ¸å¿ƒæ¡†æ¶ï¼šSpring
   - æ§åˆ¶å±‚æ¡†æ¶ï¼šSpringMVC
   - æƒé™æ§åˆ¶ï¼šShiro
   - æ¶ˆæ¯ä¸­é—´ä»¶ï¼šactiveMQ
   - æ¶ˆæ¯æ¨é€ï¼šWebSocket
   - é‚®ä»¶å‘é€ï¼šjavax.mail
   - ä»»åŠ¡è°ƒåº¦ï¼šQuartz
   - æŒä¹…å±‚æ¡†æ¶ï¼šMybatis-Plus
   - æ—¥å¿—ç®¡ç†ï¼šSLF4J > logback
   - ç¼“å­˜æ§åˆ¶ï¼šEhcache/Redis å¯åˆ‡æ¢
   - ç¯å¢ƒæ§åˆ¶ï¼šä½¿ç”¨ spring profile å¯æ ¹æ®`-Dspring.profiles.active=dev`å‚æ•°çµæ´»åˆ‡æ¢é…ç½®æ–‡ä»¶
2. å‰ç«¯
   - æ¨¡æ¿é€‰å‹ï¼šthymeleaf
   - ç®¡ç†æ¨¡æ¿ï¼šH+
   - JS æ¡†æ¶ï¼šjQuery
   - æ•°æ®è¡¨æ ¼ï¼šbootstrapTable
   - æ–‡ä»¶ç®¡ç†ï¼šelfinder
   - å¼¹å‡ºå±‚ï¼šlayer
   - é€šçŸ¥æ¶ˆæ¯ï¼šToastr
   - æ¶ˆæ¯æ¨é€/è½®è¯¢ï¼šsockJsã€STOMP
   - æ ‘ç»“æ„æ§ä»¶ï¼šjsTree
   - checkbox é€‰æ‹©æ§ä»¶ï¼šbootstrapSwitch
3. å¼€å‘å¹³å°
   - JDK ç‰ˆæœ¬ï¼š17+
   - Mavenï¼š3.5+
   - æ•°æ®åº“ï¼šmysql8+ï¼ˆè®¾ç½®è¡¨åç§°å¤§å°å†™å¿½ç•¥ï¼‰
   - ç¼“å­˜ï¼šehcache/redis
   - ideï¼šEclipse/Idea

# æœ¬åœ°å¼€å‘

```
# 1. å…‹éš†é¡¹ç›®
git clone git@github.com:wayn111/crowd-amin.git

# 2. å¯¼å…¥é¡¹ç›®ä¾èµ–
å°†crowd-adminç›®å½•ç”¨ideaæ‰“å¼€ï¼Œå¯¼å…¥mavenä¾èµ–

# 3. å®‰è£…Mysql8.0+ã€Redis3.0+ã€Jdk17+ã€Maven3.5+

# 4. å¯¼å…¥sqlæ–‡ä»¶
åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹crowd-webæ–‡ä»¶å¤¹ä¸‹ï¼Œæ‰¾åˆ°`crowd-admin.sql`æ–‡ä»¶ï¼Œæ–°å»ºmysqlæ•°æ®åº“crowd-adminï¼Œå¯¼å…¥å…¶ä¸­

# 5. ä¿®æ”¹Mysqlã€Redisè¿æ¥é…ç½®
ä¿®æ”¹`application-dev.yml`æ–‡ä»¶ä¸­æ•°æ®è¿æ¥é…ç½®ç›¸å…³ä¿¡æ¯

# 6. å¯åŠ¨é¡¹ç›®
è¿›å…¥crowd-webæœ¨å—ï¼Œæ‰¾åˆ°CrowdApplicationæ–‡ä»¶ï¼Œåœ¨ideaä¸­å³é”®run applicationè¿è¡Œ

# 7. è®¿é—®
æ‰“å¼€æµè§ˆå™¨è¾“å…¥ï¼šhttp://localhost:8080/crowd/
```

# è¿œç¨‹éƒ¨ç½²

æ¨èä½¿ç”¨ Dockerfile æ–¹å¼è¿›è¡Œè¿œç¨‹éƒ¨ç½²ï¼Œè¿™é‡Œä»‹ç» CentOS ç³»ç»Ÿä¸‹éƒ¨ç½²æ–¹å¼ï¼ˆé»˜è®¤å¤§å®¶å·²å®‰è£… docker ç¯å¢ƒï¼‰

```
# 1. ä¿®æ”¹ application-dev.yml æ–‡ä»¶æ•°æ®åº“ã€Redis è¿æ¥

# 2. æœåŠ¡å™¨ä¸Šæ–°å»º /opt/wayn/crowd ç›®å½•
mkdir -p /opt/wayn/crowd/crowd-web/target
mkdir -p /opt/wayn/crowd/logs

# 3. åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œå¦‚ä¸‹ mvn å‘½ä»¤å¯¹ crowd-web æ¨¡å—è¿›è¡Œæ‰“åŒ…æ“ä½œ
mvn clean package -DskipTests -pl crowd-web -am
æ‰“åŒ…å®Œæˆååœ¨ crowd-web/target ç›®å½•ä¸‹ä¼šç”Ÿæˆ crowd.jar æ–‡ä»¶

# 4. ä¸Šä¼  crowd.jar æ–‡ä»¶è‡³ç›®å½•æœåŠ¡å™¨ /opt/wayn/crowd/crowd-web/target ç›®å½•ä¸‹

# 6. ä¸Šä¼ é¡¹ç›®æ ¹ç›®å½•ä¸‹ ip2region.xdb æ–‡ä»¶è‡³æœåŠ¡å™¨ /opt/wayn/crowd ç›®å½•ä¸‹

# 7. ä¸Šä¼ é¡¹ç›®æ ¹ç›®å½•ä¸‹ Dockerfile æ–‡ä»¶è‡³æœåŠ¡å™¨ /opt/wayn/crowd ç›®å½•ä¸‹

# 8. æ„å»º docker é•œåƒï¼Œå¯åŠ¨å®¹å™¨
cd /opt/wayn/crowd
docker build -t crowd .
docker run -p 8080:8080 -v /opt/wayn/crowd:/opt/wayn/crowd --name crowd-web crowd

# 9. åœ¨æœåŠ¡å™¨ç»ˆç«¯è¾“å…¥ curl -L http://localhost:8080/crowdï¼Œæœ‰ç½‘é¡µå†…å®¹è¿”å›åˆ™ä»£è¡¨éƒ¨ç½²æˆåŠŸ
```

# å‚è€ƒèµ„æ–™

- [RuoYi](http://doc.ruoyi.vip/) æ–‡æ¡£
- [Mybatis Plus](https://mp.baomidou.com/guide) æ–‡æ¡£
- [AdminLTE-admin](https://gitee.com/zhougaojun/KangarooAdmin/tree/master)
- [bootdo](https://gitee.com/lcg0124/bootdo)
- [RuoYi](https://gitee.com/y_project/RuoYi)

# è·å–æºç 

- [crowd-admin github](https://github.com/wayn111/crowd-admin)
- [crowd-admin ç äº‘](https://gitee.com/wayn111/crowdfounding)

# å®ä¾‹æˆªå›¾

**ç³»ç»Ÿç™»é™†**
![è¾“å…¥å›¾ç‰‡è¯´æ˜](./crowd-web/crowd-img/ç³»ç»Ÿç™»é™†.png "ç³»ç»Ÿç™»é™†.png")
**é¦–é¡µ**
![è¾“å…¥å›¾ç‰‡è¯´æ˜](./crowd-web/crowd-img/é¦–é¡µ1.png "é¦–é¡µ1.png")
![è¾“å…¥å›¾ç‰‡è¯´æ˜](./crowd-web/crowd-img/é¦–é¡µ2.png "é¦–é¡µ2.png")
**ç”¨æˆ·ç®¡ç†**
![è¾“å…¥å›¾ç‰‡è¯´æ˜](./crowd-web/crowd-img/ç”¨æˆ·ç®¡ç†.png "ç”¨æˆ·ç®¡ç†.png")
**èœå•ç®¡ç†**
![è¾“å…¥å›¾ç‰‡è¯´æ˜](./crowd-web/crowd-img/èœå•ç®¡ç†.png "èœå•ç®¡ç†.png")
**é€šçŸ¥ç®¡ç†**
![è¾“å…¥å›¾ç‰‡è¯´æ˜](./crowd-web/crowd-img/é€šçŸ¥ç®¡ç†.png "é€šçŸ¥ç®¡ç†.png")
**æŸ¥çœ‹é€šçŸ¥**
![è¾“å…¥å›¾ç‰‡è¯´æ˜](./crowd-web/crowd-img/æŸ¥çœ‹é€šçŸ¥.png "æŸ¥çœ‹é€šçŸ¥.png")
**æ–‡ä»¶ç®¡ç†**
![è¾“å…¥å›¾ç‰‡è¯´æ˜](./crowd-web/crowd-img/æ–‡ä»¶ç®¡ç†.png "æ–‡ä»¶ç®¡ç†.png")
**ç³»ç»ŸæœåŠ¡**
![è¾“å…¥å›¾ç‰‡è¯´æ˜](./crowd-web/crowd-img/ç³»ç»ŸæœåŠ¡.jpg "ç³»ç»ŸæœåŠ¡.jpg")

# ç‰¹åˆ«èµåŠ©

<a href="https://www.jetbrains.com/" target="_blank">
<img src="./crowd-web/crowd-img/jetbrains-training-partner.svg" width="20%" alt=""></a>
